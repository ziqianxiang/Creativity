Figure 1: A vector field (left) can be mapped to a scalar field (right) by applying certain partial differentialoperators (PDOs), such as the Laplacian of the divergence and the 2D curl. Such a PDO from a 2D vector to ascalar field can be represented as a 2 × 1 matrix, where each of the two entries is a one-dimensional PDO thatacts on one of the two components of the vector field. Similarly, matrices of PDOs with different dimensionsmap between other types of fields. Our goal is to find all PDOs for which this map becomes equivariant, forarbitrary types of fields. For the implementation, we will later discretize PDOs as stencils (middle).
Figure 2: Transformation of scalar and vector fields (re-produced with permission from Weiler & Cesa (2019))The full group of symmetries H is the semidirect product of these two, meaning that each elementh ∈ H can be uniquely written as h = tg, where t ∈ Rd is a translation and g ∈ G a lineartransformation. For example, if G = {e} is the trivial group, we consider only equivariance un-der translations, as in classical CNNs, while for G = SO(d) we additionally consider rotationalequivariance.
Figure 3: Two examples of SO(2)-equivariant vector fields.5The gradient is also equivariant under reflections, i.e. O(2)-equivariant, and it easily generalizes tohigher dimensions. However, the transpose 2D curl only appears in this particular setting: it is notreflection-equivariant, and it does not have an analogon in higher dimensions.6 We summarize this inthe following result:Proposition 4. Let G = O(d) for d ≥ 2 or G = SO(d) for d > 2. Then the G-equivariantdifferential operators from a scalar to a vector field are exactly those of the formq(∆) grad	(14)for an arbitrary polynomial q ∈ R[x].
Figure 4: Stencils of basis filters for a trivial to regular layer. Each row is a different method andcontains six arbitrarily selected filters from the basis (which is not the entire basis). All the settingsare those that were actually used for the MNIST-rot experiments.
