Figure 1: Tradeoff between accuracy and bit-width of quantized activations (A) and weights (W)(b) Breakdown of layer-wise quantization with atmost 1% accuracy losswidth, 8 bits or 4 bits, across all layers within the specific neural networks. The accuracy loss canbe less than 1% when 8-bit activations and 8-bit weights are utilized in these DNNs. However,directly compressing all activations and/or weights into 4 bits might devastate the accuracy. Insteadof quantizing all the parameters within a neural network to uniform bit-width, adjusting the bit-widthof quantized parameters from layer to layer (i.e., layer-wise quantization) can obtain a better tradeoffbetween required computing resources and resulting accuracy (Mishra et al., 2017; Jacob et al.,2018). Based on the quantization schemes presented by Lin et al. (2016); Jacob et al. (2018), Fig.
Figure 2: DNN and systolic array一 AJOEəw LIo=El>ll¾l< 一2Under review as a conference paper at ICLR 2020ing to the bit-width requirement of the current computation, a decomposable MAC based on ourstrategy can dynamically adjust the bit-width of its final multiplication result. In addition, accord-ing to the bit-width requirement of the current computation, a decomposable MAC based on ourstrategy can dynamically adjust the bit-width of its final multiplication result. Instead of generatingmultiplication results with required bit-width directly by connecting signals among neighbor MACsfor composition as StraightforWard/intuitive configurable MACs (Sharma et al., 2018; Pfander et al.,2004; Bermak et al., 1997; Haynes & Cheung, 1998), our strategy reduces the selection signals forthe operation bit-Width of multiplication units. Therefore, our strategy can obtain significant energyefficiency from multiplication With variable bit-Widths.
Figure 3: Example of matrix multiplicationTo reduce the poWer overhead of a decomposable MAC, We first observe the behavior of matrixmultiplication. Fig. 3 illustrates an example of matrix multiplication With unsigned integers forsimplicity (the extension of signed numbers Will be discussed in Section A.1). Suppose that theinputs are matrices A = [7 6] and B = [1 2]T , and the result matrix of A × B Will be [7 ×1 + 6 × 2] = [19]. If A and B are represented With 4-bit and 2-bit binaries, respectively, and only2-bit×2-bit multipliers are provided, the matrix multiplication should be decomposed and composedto obtain the correct result. As shoWn in Fig. 3a, each 4-bit×2-bit multiplication is decomposed intotWo 2-bit×2-bit multiplications. Therefore, this computation needs four 2-bit×2-bit multiplicationsand tWo of them have to be shifted left With 2 bits (see Fig. 3b). If We folloW a straightforWardmethod presented by Sharma et al. (2018) to obtain “meaningful” intermediate values during thecomputation, i.e., obtain the result of 7 × 1 and then the result of 6 × 2, four multiplications, tWoshift operations and three additions are necessary, as shoWn in Fig. 3c. This indicates that four2-bit×2-bit multipliers, tWo 4-bit adders and one 6-bit adder Will be utilized for the computation.
Figure 4: 2m-bit×2m-bit multiplicationInstead of designing a decomposable multiplier to construct a systolic array by straight-forward decomposition methods, we efficiently utilize the shorter bit-width MACs withina systolic array. Hence, our decomposable MAC has less power overhead of connectingsignals among multiplication blocks/modules physically.
Figure 5: Decomposable MAC/multiplier for 2m-bit×2m-bit multiplication(b) A configurable multiplier based on the methodpresented by Sharma et al. (2018)where ak1, ak0, bk1, and bk0 are numbers expressed in m bits and their combination, ak1 × 2m +ak0and bk1 × 2m + bk0, represent the value of elements ak and bk, respectively. In addition, the resultof multiplication with power of 2 can be obtained by left-shift operation. Furthermore, the shiftdistance can be a constant with the value being m if Equation 2 is rewritten as:NN	Ncij = 2m[2m	(ak1bk1) +	(ak1bk0 + ak0bk1)] +	ak0bk0	(3)k=1	k=1	k=1When the elements in matrices A and B are represented as l × m-bit integers, the elements in resultmatrix C can be obtained by replacing the expressions of ak and bk in Equation 2 as appropriatepolynomials in form of Plk-=10 dk2km, where dk is a m-bit integer. In this condition, a straightfor-ward method needs N l2 - N shifts, but our decomposition strategy still needs only 2l - 2 shifts. Toperform the matrix multiplication with appropriate hardware, we describe the detailed architecturein the following subsection.
Figure 6: Architecture of our systolic array of decomposable MACsresults), and then add them together. Therefore, 7m FAs and 42m MUXs are required for thecomposition of a straightforward decomposable multiplier.
Figure 7: Normalized average energy consumption and performance of the systolic arrays of de-composable MACs (normalized to those of the systolic array of non-decomposable MACs)7Under review as a conference paper at ICLR 2020systolic arrays of decomposable MACs are higher than that of non-decomposable MACs when op-erating multiplication with all the bit-width being 4×4 and 8×4. This is because both arrays ofdecomposable MACs can generate four times 4-bit×4-bit multiplication results and double 8×4multiplication results compared with an array of non-decomposable MACs. However, when oper-ating 8-bit×8-bit multiplication, the performance of the systolic array of straightforward decom-posable MACs is lower than the non-decomposable one. Due to the connecting signals among themultiplication units of a straightforward decomposable multiplier, its latency will be longer thana non-decomposable multiplier and cause lower throughput when operating as one MAC with an8-bit×8-bit multiplier. The latency of the MAC based on our proposed decomposition strategy isshorter than the non-decomposable one, and thus the performance of our systolic array can still behigher than the non-decomposable one when operating 8-bit×8-bit multiplication.
Figure 8: Energy reduction of the systolic array of MACs applied our decomposition strategy (nor-malized to the energy consumption of the systolic array of non-decomposable MACs)To evaluate the energy efficiency of the systolic array of MACs applying our decomposition strategy,we perform matrix multiplication in deep learning applications according to the bit-width require-ment mentioned in Section 1 with the synthesized systolic arrays shown in Table 2.
Figure 9: A signed multiplication with decomposable multipliers10Under review as a conference paper at ICLR 2020determination of the MSB of signed integer b, and Lb for the determination of the least significantbit of b should be provided in each 2-bit×2-bit multiplier. When the partial product terms of a 2-bit×2-bit multiplier which replaces the unsigned multiplier is the same as those shown in Fig. 9b,the decomposable multiplier can support signed multiplication.
