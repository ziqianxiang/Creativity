Figure 1: Illustration of BAGCERT training for a 1D input and two classes. An input X is processedby region scorer fθ, consisting of a 3-layer CNN with kernel sizes 3, 1, and 3. The resulting con-tinuous region scores are passed through a Heaviside step function (replaced by a sigmoid in thebackward pass) to obtain binary region scores s for every class. The differences ∆ between true andnon-true class scores are then processed by spatial aggregation g, in this case simply summing themvia g = gP . The resulting value is maximized by passing it into margin loss L.
Figure 2: Clean versus certified accuracy on CIFAR10 and ImageNet for BagCert with differentreceptive fields and train margins (M ∈ {0.25, 0.5, 0.75, 1.0} for CIFAR10, M = 0.25 for Ima-geNet) when certifying via Condition 3.3 (circles) and Condition 3.2 (stars), same setting connectedby thin line. Smaller M generally corresponds to larger clean accuracy for CIFAR10. Baselines areDerandomized Smoothing (DS) (Levine & Feizi, 2020), Masked BagNet (Mask-BN) and MaskedDS-ResNet (Mask-DS) (Xiang et al., 2020), and Clipped BagNet (CBN) (Zhang et al., 2020). Re-sults for these baselines are taken from the respective papers.
Figure 3: Certified accuracy against square patches of different sizes on CIFAR10. Shown is theperformance for different receptive fields of BagCert (left) and train margins (right). Lines corre-spond to the same model (without retraining), evaluated against patches of different size.
Figure 4: Certified accuracy against non-square patches of total size 24 pixels on CIFAR10. Shownis the performance for different receptive fields of BagCert (left) and train margins (right) com-pared to Derandomized Smoothing with Column-Smoothing (Levine & Feizi, 2020). Lines corre-spond to the same model (without retraining), evaluated against patches of different aspect rations.
Figure 5: Illustration of BagCert certification for a 1D input and two classes. We assume for thisexample that L consists only of a single element; that is: the attacker can only place a patch atlocation l = {0}, shown by the checkerboard pattern in the input. The resulting R(l) consists of thethree top elements in region score space s (shown again by a checkerboard pattern). Accordingly,Rmax (L) = 3. (Top) Certification via Condition 3.3: The regular network output +4 is comparedto 2 ∙ Rmax(L) = +6. Since 4 ≤ 6, the robustness of the prediction cannot be certified. (Bottom)Certification via Condition 3.2: region scores s are replaced by swc based on R(l). The resultingnetwork output is +1, which is greater than 0. Thus, robustness of prediction can be certified.
Figure 6: Illustration of an adversarial patch attack and its effect on region scores. Top row corre-sponds to the clean image (left), the resulting score maps for the true class (middle), and the scoremaps for the chosen target class (right). The bottom row shows the same for the image with anadversarial 5 × 5 patch inserted at the chosen region l. The red rectangle corresponds to R(l).
Figure 7: Scatter plots of clean versus adversarial accuracy (left) and certified versus adversarialaccuracy (right). Color encodes different receptive filed sizes.
Figure 8: Comparison of Heaviside step function with alternative choices such as element-wisesigmoid or channel-wise softmax for five independent runs with different random seeds.
