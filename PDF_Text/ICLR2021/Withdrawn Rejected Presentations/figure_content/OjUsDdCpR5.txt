Figure 1: Dense simulation benchmarks. (a-d) Comparision of ground truth covariances (y-axis)and estimates from analytical VAE, stochastic VAE, MAP estimator and HMC performed in Stan(x-axes); all of these methods use the ILR transform and only the posterior means are shown in(d). (e-h) Correlation, axis-alignment, subspace distance and Procrustes metrics between analyticalVAEs, stochastic VAEs, MAP and HMC after convergence. (i-k) Comparison of log, ALR and ILRtransforms with respect to axis-alignment, subspace distance and Procrustes. The axis-alignmentmetric measures the angular differences between W and the ground truth principal components.
Figure 2: Comparison of different log-ratio transforms (a-f) and encoder depths (g-l) in sparse sim-ulations. Two datasets with 200 and 5000 input dimensions are simulated for benchmarks (a-d, i-l)and (e-h, m-p) respectively. Log-ratio transform benchmarks investigate different log-ratio trans-forms using a single-layer encoder. The Encoder Depth benchmark investigates the impact of thenumber of encoder layers combined with the ILR transform.
Figure 3: Comparison of the decoder inner product between the pretrained stochastic VAE and thepretrained analytical VAE. (a-b) Heatmap of WTW . (c-d) Distribution of diagonal elements andoff-diagonal elements of WTW.
Figure S1: A small example showing how an orthogonal basis can be constructed from a binary tree.
Figure S2: An illustration of how the ILR basis can be constructed on large trees. The quantitiesg(xr) and g(xs) yield the geometric means within a vector of proportion x for subsets xr and xs.
Figure S3: Visualization of VAE architectureclassification objective is to predict the mouse phenotype from the 16S sequencing counts obtainedfrom their fecal pellets. In total, there was one fecal pellet collected from each mouse and there were2794 microbial taxa detected across these samples. This benchmark is more challenging than theIHH benchmark due to the extreme class imbalance; some phenotypes contain upwards of 30 miceand other contain as few as 2 mice (Figure S4). The resulting classification benchmarks are shownin Table 1.
Figure S4:	Distribution of 52 phenotypes in the Shalapour et al. study, highlighting the class imbal-ance inherent in this benchmark.
Figure S5:	Comparison of Lovell’s proportionality metric and the pairwise embedding distancesfor the stochastic VAE and the analytical VAE evaluated on the Shalapour et al. dataset and theTripathi et al. dataset. The embedding distance is defined by the Euclidean distance between tworows within ΨW. Since the proportionality metric is not defined for zeros, it is only evaluated forsamples where both taxa are observed. Only the top 300 most abundant microbes are visualizedhere.
