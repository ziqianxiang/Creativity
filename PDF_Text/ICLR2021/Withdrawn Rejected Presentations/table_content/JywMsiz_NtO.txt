Table 1: Mean absolute error (MAE) on the QM9 dataset. Models are evaluated under scaffold split.
Table 2: Left: Results on molecule and protein datasets. CrossGrad and SRGM use the structure ofenvironments (scaffolds or protein superfamily) while others do not. Right: Ablation study of SRGM.
Table 3: Comparison between SRGM with different perturbations on the QM9 dataset. “Scaffold”means perturbation via the gradient of the scaffold classifier. “Random” means random perturbation.
Table 4: SRGM performance on the QM9 dataset with different number of graph convolutional layersin φ. Adding more layers increases model complexity.
Table 5: Dataset statistics	QM9	HIV	Tox21	BBBP	HomologyTraining	67K	27K	7.6K	1275	12.3KValidation	36K	7.7K	776	519	736Testing	30K	6.3K	483	248	718A.4 S tructured RGM Update RuleSince f and φ optimizes L(f ◦ φ, Ee) in different directions, We also introduce a gradient reversallayer between φ and fe. The SRGM update rule is the following:Φ 一 Φ - ηVφL(∕ ◦ φ) - ηλgVφLg(g ◦ φ) - ηλXe X VφRe(Φ + ψ)ψ∈{0,δ}f — f - ηvfL(f ◦ φ) g — g - ηvgLg(g ◦ φ)fe J fe - ηVLe(fe ◦ φ)	fe J fe - ηVL(fe ◦ (φ + δ)) ∀ef-e J f-e - ηVL-e(f-e ◦ φ) ∀eB Experimental DetailsB.1	Molecular property predictionData The four property prediction datasets are provided in the supplementary material, along withthe training/validation/test splits. The size of each training environment, validation and test set arelisted in Table 5. The QM9, HIV, Tox21 and BBBP dataset are downloaded from Wu et al. (2018).
Table 6: Mean absolute error (MAE) on the QM9 dataset under molecular size split. Models aretrained on molecules with no more than 7 atoms and tested on molecules with 9 atoms. Due to spacelimit, we only show standard deviation for the top three methods in subscripts.
Table 7: SRGM performance under different molecular size split.
