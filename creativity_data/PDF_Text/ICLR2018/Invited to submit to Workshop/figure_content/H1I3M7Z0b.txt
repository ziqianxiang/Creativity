Figure 1: Illustration of WSNet that learns small condensed filters with weight sampling along twodimensions: spatial dimension (the bottom panel) and channel dimension (the top panel). The figuredepicts procedure of generating two continuous filters (in pink and purple respectively) that convolvewith input. In spatial sampling, filters are extracted from the condensed filter with a stride of S .
Figure 2: Illustration of efficient computation with integral image in WSNet. The inner product mapP ∈ RT×L* calculates the inner product of each row in F and each column in Φ as in Eq. (6). Theconvolution result between a filter k1 which is sampled from Φ and the input patch f1 is then thesummation of all values in the segment between (u, v) and (u+L - 1, v + L - 1) in P (recall that Lis the convolutional filter size). Since there are repeated calculations when the filter and input patchare overlapped, e.g. the green segment indicated by arrow when performing convolution between k2and s2, we construct the integral image I using P according to Eq. (7). Based on I, the convolutionalresults between any sampled filter and input patch can be retrieved directly in time complexity ofO(1) according to Eq. (8), e.g. the results of kι ∙ si is I(uι + L - 1,vι + L - 1) - I(uι - 1, vι - 1).
Figure 3: A variant of the integral image method used in practice which is more efficient than thatillustrated in Figure 2. Instead of repeatedly sampling along the channel dimension of Φ to convolvewith the input F, we wrap the channels of F by summing up C matrixes that are evenly divided fromF along the channels, i.e. F(i,j) = PC-1 F(i,j + CM*). Since the channle of F is only 1/C ofthe channel of F, the overall computation cost is reduced as demonstrated in Eq. (10).
Figure 4: The accuracies of baselines and WS-Net with the same model size on ESC-50 dataset.
Figure 5: The accuracies of baselines and WS-Net with the same model size on MusicDet200Kdataset. Note the compression ratios (or compact-ness for WSNet) are shown in log scale.
