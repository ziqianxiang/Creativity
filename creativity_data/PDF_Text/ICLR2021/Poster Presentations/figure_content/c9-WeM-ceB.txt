Figure 1: Schematic of the model used in all ex-periments. The backbone is an 18-layer ResNet.
Figure 2: Example images from Dtrain and Dvalid from both classes. In both distributions, crosssize can vary between samples. In Dtrain, two crosses (denoting class 0) are always accompaniedby a box xc in the bottom right-hand corner, while a single cross (denoting class 1) is always accom-panied by a confounder in the bottom left-hand corner. In Dvalid , the relationship between classesand crosses remains the same, but the logic governing the location of the counfounder is reversed.
Figure 3: Synthetic Dataset Valid AUC over 100epochs, averaged over 10 seeds.
Figure 4: The average integrated gradients (IG) saliency maps from 500 randomly-selected Dtestimages for the Synthetic dataset. The first image shows the mean of the samples, with the mean ofthe masks superimposed in red. The remainder of the panels show the mean of the gradients aftertaking the absolute value, smoothing, and thresholding at the 50th percentile.
Figure 5: Illustration of the effect of Site-Pathology Correlations (SPC; top row) and View-Pathology Correlations (VPC; bottom row). Thefirst two columns contain the mean of all X-Rays collected from a particular site/view. Thethird column shows the class-conditional meandifference between images taken from sick andhealthy patients when pathology is uncorrelatedwith site/view, and the fourth column shows thesame when pathology is correlated with site/view.
Figure 6: Mean integrated gradients (IG) saliency maps from 500 randomly-selected Dtest imagesin the X-Ray dataset with a site-pathology correlation (SPC; top), and without (No SPC; bottom)after taking the absolute value, smoothing, and thresholding at the 50th percentile across all 10seeds. The first image shows the mean input image of the model over all examples shown, with themask overlaid in red.
Figure 7: Mean integrated gradients (IG) saliency maps from 500 randomly-selected Dtest imagesin the RSNA dataset with a view-pathology correlation (VPC; top), and without (No VPC; bottom)after taking the absolute value, smoothing, and thresholding at the 50th percentile across all 10seeds. The first image shows the mean input image of the model over all examples shown, with themask overlaid in red.
Figure 8: Test AUC vs. Test IoU (good saliency)for all seeds evaluated with covariate shift. Modelspresented grouped by “Approaches”: baseline, inputmasking, domain-invariance, and saliency-based ap-proaches. All localizations were computed using in-tegrated gradients, see Appendix Figure A.13 for allattribution methods.
