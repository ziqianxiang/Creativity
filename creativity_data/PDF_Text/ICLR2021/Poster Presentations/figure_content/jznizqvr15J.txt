Figure 1: A sketch of the In-N-Out algorithm which consists of three steps:1) use auxiliary information as input (Aux-in) to achieve good in-distributionperformance, 2) use auxiliary information as output in pre-training (Aux-out),to improve OOD performance, 3) fine-tune the pretrained model from step2 using the labeled data and in-distribution unlabeled data with pseudolabelsgenerated from step 1 to improve in- and out-of-distribution.
Figure 2: Graphicalmodel for our theoret-ical setting: predictiontask with input x,target y, and auxiliaryinformation z , which isrelated to y through thelatent variable w andlatent noise u.
Figure 3: Summary of the datasets used in our experiments.
Figure 4: Correlation (r = 0.72)between in-distribution accuracy andOOD accuracy when adding 1 to 15random auxiliary inputs in CelebA.
Figure 5: In-distribution vs. OOD accuracyon CelebA when sequentially adding a randomset of 15 auxiliary inputs one-by-one. Evenif adding all 15 auxiliary inputs improvesboth in-distribution and OOD accuracy, someintermediate in-distribution gains can hurt OOD.
