Table 1: Benchmark results on CIFAR-10-semi-4kMethod	Clean	FGSM '∞	PGD '∞	PGD `2	AutoAttack '∞	AutoAttack `2MT	84.55 ± 0.64	14.00 ± 1.70	0.03 ± 0.02	19.55 ± 0.26	0.01 ± 0.01	0.46 ± 0.02MixMatch	89.95 ± 0.96	57.42 ± 2.78	0.25 ± 0.14	9.10 ± 0.82	0.00 ± 0.00	0.01 ± 0.01RST	58.81 ± 0.28	33.80 ± 0.20	31.28 ± 0.26	43.70 ± 0.33	25.38 ± 0.15	39.79 ± 0.60ARG	67.07 ± 0.22	36.65 ± 1.79	32.12 ± 1.74	42.95 ± 0.82	30.01 ± 1.85	40.86 ± 0.69MT+AT	64.77 ± 0.28	30.50 ± 3.16	25.76 ± 3.16	41.34 ± 1.76	24.28 ± 2.90	39.93 ± 1.63ARMOURED-F	84.90 ± 0.22	68.27 ± 1.53	56.42 ± 3.93	67.45 ± 2.76	8.70 ± 1.27	25.80 ± 2.50ARMOURED-I+AT	77.73 ± 0.11	63.56 ± 1.71	54.22 ± 3.68	61.95 ± 2.11	29.22 ± 3.18	44.44 ± 3.15ARMOURED-H+AT	76.74 ± 0.73	63.41 ± 1.94	54.94 ± 4.30	61.89 ± 2.74	31.88 ± 7.19	46.29 ± 5.84ARMOURED-F+AT	76.76 ± 1.60	64.05 ± 3.00	55.12 ± 4.90	61.93 ± 3.06	35.24 ± 4.56	49.78 ± 3.80Results on SVHN (Table 2): On clean test samples, ARMOURED-F yields the best performance,with a small improvement over the second best competing method. Against FGSM and PGD at-tacks, even the worst ARMOURED variant is more robust than MT+AT (the best benchmark) by13%-20%. Under AutoAttack, ARMOURED-H+AT falls behind MT+AT and ARG by a significantgap of 15% under '∞ attacks, while outperforming them by 4%-11% under '2 attacks. Overall,ARMOURED shows competitive performance compared to state-of-the-art SSL and SSAR bench-marks. Results on CIFAR-10 and SVHN suggest that MT+AT is a strong defense.
Table 2: Benchmark results on SVHN-semi-1kMethod	Clean	FGSM '∞	PGD '∞	PGD `2	AutOAttack '∞	AutoAttack `2MT	93.73 ± 0.96	24.44 ± 2.13	4.14 ± 0.81	34.64 ± 3.12	1.50 ± 0.37	12.43 ± 1.53MixMatch	91.35 ± 1.00	43.75 ± 23.50	0.05 ± 0.05	3.72 ± 3.31	0.00 ± 0.00	0.21 ± 0.20RST	55.67 ± 1.79	30.40 ± 1.30	25.99 ± 1.79	33.71 ± 3.32	17.33 ± 1.94	25.08 ± 3.79ARG	91.66 ± 0.51	58.22 ± 0.95	44.42 ± 1.11	44.12 ± 1.07	39.50 ± 1.11	34.19 ± 0.93MT+AT	92.71 ± 0.22	58.45 ± 1.02	44.70 ± 0.42	50.42 ± 1.02	38.06 ± 0.11	41.71 ± 0.93ARMOURED-F	93.93 ± 0.79	72.11 ± 1.67	57.91 ± 5.08	73.44 ± 3.18	7.88 ± 0.87	24.62 ± 1.38ARMOURED-I+AT	92.01 ± 0.44	74.22 ± 1.32	62.04 ± 4.93	71.38 ± 2.28	22.04 ± 3.04	41.57 ± 2.45ARMOURED-H+AT	92.53 ± 0.35	73.54 ± 1.58	61.41 ± 1.14	70.53 ± 0.71	24.04 ± 1.30	45.58 ± 2.39ARMOURED-F+AT	92.44 ± 0.64	74.78 ± 4.37	62.10 ± 8.39	71.37 ± 6.32	23.35 ± 3.22	44.41 ± 3.20(LDPP + LNEM), performs relatively well on clean data, but its performance suffers under attacks,dropping by 26% for '∞ and by 22% for '2 attacks. We then keep the term Lnem, but removethe diversity regularize] from the loss function2. This model - w/o LDPP - performs worse thanthe complete model by 1%. We conclude that the entropy regularizer plays a more vital role thanthe DPP regularizer. Besides, we train ARMOURED-F+AT using only the 4k labeled samples andcall this model w/o Unlabeled. Its poor performance reinforce the importance of unlabeled datatowards improving adversarial robustness. Finally, we include ARMOURED-F (trained withoutAT), which performs very well on clean data but fails against AutoAttack. Additional results areprovided in Appendix B.
Table 3: Ablation study on CIFAR-10-semi-4kMethod	Clean	AutoAttack '∞	AutoAttack `2w/o (LDPP + LNEM)	75.60 ± 0.44	9.27 ± 0.28	27.32 ± 0.85w/o LDPP	77.44 ± 0.85	34.02 ± 2.80	48.52 ± 1.79w/o Unlabeled	72.50 ± 0.21	10.26 ± 1.57	25.23 ± 0.59ARMOURED-F	84.90 ± 0.22	8.70 ± 1.27	25.80 ± 2.50ARMOURED-F+AT	76.76 ± 1.60	35.24 ± 4.56	49.78 ± 3.80Clean SamplesNetwork N1	Network N2Adversarial SamplesNetwork N1	Network N2Figure 4: t-SNE plots of feature embeddings from CIFAR-10 test samples generated by ablationmodels: (a) w/o (LDPP + LNEM), (b) w/o Unlabeled, (c) ARMOURED-F and (d) ARMOURED-F+AT. For each of the 8 network/method pairs, the clean and adversarial samples are processedtogether in a single t-SNE run. Adversarial samples are generated with PGD-'∞ (e = 8/255). From(a) to (d), the embeddings of adversarial samples are progressively enhanced, while (c) yields thebest representations on clean data.
Table A.4: Fine-tuning of λDPP and λNEM on CIFAR10-semi-4k (reporting validation accuracy)Autoattack '∞	Autoattack '2^^^^Anem λDPP	1	2	4	''''^^^Anem λDPP	1	2	40.25	28.50	25.67	6.48	0.25	44.08	41.56	20.020.5	32.60	26.25	6.45	0.5	48.08	41.21	21.041	32.45	27.87	7.83	1	46.07	41.29	22.80Table A.5: Fine-tuning of λDPP and λNEM on SVHN-semi-1k (reporting validation accuracy)Autoattack '∞	Autoattack '2^NEM λDPP	1	2	4	''^^'^^λNEM λDPP	1	2	40.25	24.42	22.46	7.70	0.25	44.38	41.56	24.380.5	22.82	16.53	8.41	0.5	42.62	41.21	24.151	25.15	24.83	7.60	1	44.31	42.79	21.74Figure A.5: Visualization of the learned feature-based kernels.
Table A.5: Fine-tuning of λDPP and λNEM on SVHN-semi-1k (reporting validation accuracy)Autoattack '∞	Autoattack '2^NEM λDPP	1	2	4	''^^'^^λNEM λDPP	1	2	40.25	24.42	22.46	7.70	0.25	44.38	41.56	24.380.5	22.82	16.53	8.41	0.5	42.62	41.21	24.151	25.15	24.83	7.60	1	44.31	42.79	21.74Figure A.5: Visualization of the learned feature-based kernels.
Table B.6: Benchmark against AtutoAttack with varying budgets on CIFAR-10-semi-4kMethod	AutoAttack '∞			AutoAttack `2			1/255	2/255	4/255	0.1	0.2	0.3RST	54.38 ± 0.30	50.80 ± 0.32	41.35 ± 0.14	55.04 ± 0.24	51.34 ± 0.37	47.44 ± 0.39ARG	62.57 ± 0.23	57.83 ± 0.36	48.09 ± 1.05	62.27 ± 0.14	57.11 ± 0.20	51.83 ± 0.53MT+AT	59.26 ± 0.55	53.94 ± 1.13	43.12 ± 1.99	59.80 ± 0.46	54.91 ± 0.73	49.86 ± 1.21ARMOURED-F	70.72 ± 0.88	57.36 ± 1.59	33.52 ± 1.93	71.93 ± 0.65	59.40 ± 0.93	46.45 ± 1.85ARMOURED-I+AT	65.26 ± 1.07	60.43 ± 1.42	48.40 ± 2.80	65.95 ± 0.89	61.43 ± 1.60	55.53 ± 2.00ARMOURED-H+AT	65.20 ± 1.39	60.36 ± 2.64	49.79 ± 5.31	65.72 ± 1.11	61.61 ± 2.70	56.14 ± 3.53ARMOURED-F+AT	65.75 ± 2.01	62.14 ± 2.33	52.99 ± 3.53	65.98 ± 1.90	62.94 ± 2.34	58.79 ± 2.90Table B.7: Benchmark against AtutoAttack with varying budgets on SVHN-semi-1kMethod	AutoAttack '∞			AutoAttack `2			1/255	2/255	4/255	0.1	0.2	0.3RST	50.23 ± 1.88	44.76 ± 2.07	34.25 ± 2.08	49.74 ± 2.26	43.65 ± 2.77	37.33 ± 3.16ARG	88.25 ± 0.32	83.52 ± 0.21	70.55 ± 0.72	85.99 ± 0.31	76.37 ± 0.76	62.31 ± 1.22MT+AT	89.37 ± 0.33	84.53 ± 0.55	71.42 ± 0.70	87.99 ± 0.45	80.51 ± 0.65	69.26 ± 1.04ARMOURED-F	81.54 ± 1.46	64.45 ± 2.08	33.68 ± 2.07	82.57 ± 1.14	66.33 ± 1.31	49.34 ± 1.18ARMOURED-I+AT	83.55 ± 0.21	73.85 ± 1.83	51.96 ± 2.96	83.80 ± 0.07	74.17 ± 1.33	63.09 ± 1.98ARMOURED-H+AT	84.58 ± 0.34	75.37 ± 0.98	55.49 ± 1.87	85.09 ± 0.17	76.25 ± 0.66	66.27 ± 1.40ARMOURED-F+AT	84.78 ± 1.10	75.59 ± 2.03	54.64 ± 3.42	85.11 ± 1.09	76.24 ± 1.85	65.71 ± 2.53
Table B.7: Benchmark against AtutoAttack with varying budgets on SVHN-semi-1kMethod	AutoAttack '∞			AutoAttack `2			1/255	2/255	4/255	0.1	0.2	0.3RST	50.23 ± 1.88	44.76 ± 2.07	34.25 ± 2.08	49.74 ± 2.26	43.65 ± 2.77	37.33 ± 3.16ARG	88.25 ± 0.32	83.52 ± 0.21	70.55 ± 0.72	85.99 ± 0.31	76.37 ± 0.76	62.31 ± 1.22MT+AT	89.37 ± 0.33	84.53 ± 0.55	71.42 ± 0.70	87.99 ± 0.45	80.51 ± 0.65	69.26 ± 1.04ARMOURED-F	81.54 ± 1.46	64.45 ± 2.08	33.68 ± 2.07	82.57 ± 1.14	66.33 ± 1.31	49.34 ± 1.18ARMOURED-I+AT	83.55 ± 0.21	73.85 ± 1.83	51.96 ± 2.96	83.80 ± 0.07	74.17 ± 1.33	63.09 ± 1.98ARMOURED-H+AT	84.58 ± 0.34	75.37 ± 0.98	55.49 ± 1.87	85.09 ± 0.17	76.25 ± 0.66	66.27 ± 1.40ARMOURED-F+AT	84.78 ± 1.10	75.59 ± 2.03	54.64 ± 3.42	85.11 ± 1.09	76.24 ± 1.85	65.71 ± 2.53ARMOURED-F and ARMOURED-F+AT are very robust against black-box attacks (FAB andSquare), which suggests that gradient-masking is less likely to exist in our models.
Table B.8: Ablation study on CIFAR-10-semi-4k (full results)Method	Clean	FGSM '∞	PGD '∞	PGD `2	AutoAttack '∞	AutoAttack `2w/o (LDPP + LNEM)	75.60 ± 0.44	42.19 ± 0.40	18.96 ± 0.22	40.05 ± 0.91	9.27 ± 0.28	27.32 ± 0.85w/o LDPP	77.44 ± 0.85	66.42 ± 1.27	59.65 ± 2.07	65.18 ± 1.14	34.02 ± 2.80	48.52 ± 1.79w/H(f)	76.91 ± 0.71	63.81 ± 1.99	55.83 ± 3.70	61.93 ± 2.40	31.20 ± 6.22	45.07 ± 6.48w/o Unlabeled	72.50 ± 0.21	41.66 ± 1.29	22.26 ± 2.54	36.29 ± 1.42	10.26 ± 1.57	25.23 ± 0.59ARMOURED-F	84.90 ± 0.22	68.27 ± 1.53	56.42 ± 3.93	67.45 ± 2.76	8.70 ± 1.27	25.80 ± 2.50ARMOURED-F+AT	76.76 ± 1.60	64.05 ± 3.00	55.12 ± 4.90	61.93 ± 3.06	35.24 ± 4.56	49.78 ± 3.80Table B.9: Benchmark against components of AutoAttack on CIFAR-10-semi-4k	Attack ()	MT+AT	ARG	RST	ARMOURED-F	ARMOURED-F+AT	Clean	64.77 ± 0.28	67.07 ± 0.22	58.81 ± 0.28	84.90 ± 0.22	76.76 ± 1.60	APGD (8/255)	24.68 ± 3.03	30.98 ± 1.78	30.66 ± 0.38	20.24 ± 2.57	44.51 ± 3.97'∞	FAB-t (8/255)	24.63 ± 2.95	30.34 ± 1.81	25.62 ± 0.18	44.17 ± 0.82	62.60 ± 2.25	Square (8/255)	29.84 ± 2.94	35.37 ± 1.68	29.00 ± 0.22	77.90 ± 0.59	70.99 ± 1.37	AutoAttack (8/255)	24.28 ± 2.90	30.01 ± 1.85	25.38 ± 0.15	8.70 ± 1.27	35.24 ± 4.56	APGD (0.5)	40.48 ± 1.72	41.71 ± 0.66	43.05 ± 0.41	41.25 ± 2.76	57.62 ± 2.88`2	FAB-t (0.5)	40.13 ± 1.63	41.15 ± 0.70	39.94 ± 0.56	50.14 ± 1.29	65.69 ± 1.75	Square (0.5)	51.87 ± 1.12	54.26 ± 0.58	48.76 ± 0.26	82.05 ± 0.46	72.49 ± 1.32	AutoAttack (0.5)	39.93 ± 1.63	40.86 ± 0.69	39.79 ± 0.60	25.80 ± 2.50	49.78 ± 3.80Table B.10:	Utilization rate of unlabeled data
Table B.9: Benchmark against components of AutoAttack on CIFAR-10-semi-4k	Attack ()	MT+AT	ARG	RST	ARMOURED-F	ARMOURED-F+AT	Clean	64.77 ± 0.28	67.07 ± 0.22	58.81 ± 0.28	84.90 ± 0.22	76.76 ± 1.60	APGD (8/255)	24.68 ± 3.03	30.98 ± 1.78	30.66 ± 0.38	20.24 ± 2.57	44.51 ± 3.97'∞	FAB-t (8/255)	24.63 ± 2.95	30.34 ± 1.81	25.62 ± 0.18	44.17 ± 0.82	62.60 ± 2.25	Square (8/255)	29.84 ± 2.94	35.37 ± 1.68	29.00 ± 0.22	77.90 ± 0.59	70.99 ± 1.37	AutoAttack (8/255)	24.28 ± 2.90	30.01 ± 1.85	25.38 ± 0.15	8.70 ± 1.27	35.24 ± 4.56	APGD (0.5)	40.48 ± 1.72	41.71 ± 0.66	43.05 ± 0.41	41.25 ± 2.76	57.62 ± 2.88`2	FAB-t (0.5)	40.13 ± 1.63	41.15 ± 0.70	39.94 ± 0.56	50.14 ± 1.29	65.69 ± 1.75	Square (0.5)	51.87 ± 1.12	54.26 ± 0.58	48.76 ± 0.26	82.05 ± 0.46	72.49 ± 1.32	AutoAttack (0.5)	39.93 ± 1.63	40.86 ± 0.69	39.79 ± 0.60	25.80 ± 2.50	49.78 ± 3.80Table B.10:	Utilization rate of unlabeled data	CIFAR-10-semi-4k	SVHN-Semi-Ik	CIFAR-10-semi-1kARMOURED-I+AT	87.97 ± 0.86	83.79 ± 6.94	81.93 ± 7.04ARMOURED-H+AT	88.61 ± 0.92	81.93 ± 1.20	64.99 ± 2.33ARMOURED-F+AT	87.95 ± 1.01	82.28 ± 0.58	65.84 ± 6.13ARMOURED-F	96.55 ± 1.22	94.35 ± 0.47	78.08 ± 2.08Table B.11:	Benchmark results on CIFAR-10-semi-1kMethod	Clean	FGSM '∞	PGD '∞	PGD `2	AutoAttack '∞	AutoAttack `2MT	65.12 ± 2.69	4.40 ± 0.16	0.35 ± 0.31	9.21 ± 2.43	0.06 ± 0.06	3.98 ± 2.15
