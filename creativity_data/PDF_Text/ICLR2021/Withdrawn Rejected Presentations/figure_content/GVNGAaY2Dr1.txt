Figure 1: Architecture of the network. We use normal DRQN architecture for oalone with attention-based modelfor Qcollab. The attention layers take the encoded inputs from all agents and output an attention embedding.
Figure 2: Results in resource collection. CollaQ (green)produces much higher rewards in both training and adhoc team play than IQL (orange).
Figure 3: Visualization of Qalone and Qi in resource collection. The reward setup is shown in the leftmostcolumn. Interesting behaviors emerge: in b), Qicollab reinforces the behavior of Qialone since they are both theexpert for the nearest resources; in a) and c), Qicollab alters the decision of collecting lemon for red agent since ithas lower reward for lemon compared with the yellow agent and similar phenomena occurs for the yellow agent.
Figure 4: QMIX overfits to agent IDs. Introducing random agent IDs at test time greatly affect the performance.
Figure 5: Results in standard StarCraft benchmarks with random agent IDs. CollaQ (without Attn and with Attn)clearly surpasses the previous SoTAs. The attention-based model further improves the win rates for all mapsexcept 2c_vs_64zg, which only has 2 agents and attention may not bring up enough benefits.
Figure 6: Results for StarCraft ad hoc team play using different VIP agent. At test time, the CollaQ hassubstantially higher VIP survival rate than QMIX. Attention-based model also boosts up the survival rate.
Figure 7: Ad hoc team play on: a) swapping, b) adding, and c) removing a unit at test time. CollaQ outperformsQMIX and other methods substantially on all these 3 settings.
Figure 8: Ablation studies on the mixture of experts and the effect of MARA Loss. CollaQ outperforms QMIXwith a mixture of experts by a large margin and removing MARA Loss significantly degrades the performance.
Figure 9: Results for resource collection. Adding attention-based model to CollaQ introduces a larger varianceso the performance is a little worse. QMIX does not show good performance in this setting.
Figure 10: Results for StarCraft Multi-Agent Challenge without random agent IDs. CollaQ outperforms QMIXon all three maps.
