Figure 1: The spatial (A) and spectral (B) view of a nonlocal block. The pink dots indicate each patchin the feature map and the “Aggregation” means calculating the weighted mean as the numerator ofEq. (6). The dotted arrows mean “copy” and full arrows mean “feed forward”. The green bars are thenode features and the length means their strength (best view in color).
Figure 2: The implementation of our SNL. A. Three feature maps φ, ψ, Z are generated by feedingthe X into three 1 × 1 convolutions. Then, the correlation matrix M is obtained by generatingaffinity kernel on φ and ψ . B The second term of Eq. (5) is calculated with Z and the a normalizedsymmetrization affinity matrix A. Each row of A contains a N -dimension spatial attention map (heatmaps) and z1, z2, ∙ ∙ ∙, Zn are the column vectors of Z (for simplicity, here We PiCk n = 4 wherethe white squares are the central positions we visualize). C. The graph filter is approximated byrespectively feeding the 1st-order term and the 0th-order term: Z into two convolutions. Finally,batch normalization is conducted and added with X to obtain the output Y.
