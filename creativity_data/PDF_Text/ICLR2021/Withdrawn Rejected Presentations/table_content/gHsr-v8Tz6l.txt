Table 1: Ablation study on PACS. All the individual components of our variational invariant learningbenefit domain generalization performance. More comparisons can be found in Appendix DBayesian Invariant	PACSID	ψ	φ	ψ	φ	Photo	Art-painting	Cartoon	Sketch	Mean(a)	×	×	×	×	92.85	75.12	77.44	75.72	80.28(b)	X	×	×	×	93.89	77.88	78.20	77.75	81.93(c)	×	X	×	×	92.81	78.66	77.90	78.72	82.02(d)	X	X	×	×	93.83	82.13	79.18	79.03	83.73(e)	×	×	X	×	93.95	80.03	78.03	77.83	82.46(f)	X	×	X	×	95.21	81.25	80.67	79.31	84.11(g)	×	X	×	X	95.15	80.96	79.57	79.15	83.71(h)	X	X	X	X	95.97	83.92	81.61	80.31	85.45(a)	(b)	(C)	(d)(e)	(f)	(g)	(h)Figure 1: Visualization of feature representations. The eight sub-figures correspond to the eightsettings in Table 1 (identified by ID). Colors denote domains, while shapes indicate classes. Thetarget domain (violet) is “art-painting”. The top row shows the Bayesian treatment enlarges theinter-class distance for all domains, considerably. The bottom row, compared with the top-rowfigures in the same column, shows the domain-invariant principle enlarges the inter-class distance inthe target domain by reducing the intra-class distances between the source and target domains.
Table 2: Ablation with two variational invariant layers in the feature extractor on PACS. Bayesian φ0and Invariant φ0 denote whether the additional variational invariant layer in the feature extractor hasa Bayesian property and domain-invariant property. More Bayesian layers benefits the performancewhile excessive domain-invariant learning harms it.
Table 3: Comparison on PACS. Our method achieves the best performance on the “Cartoon” domain,is competitive on the other three domains and obtains the best overall mean accuracy.
Table 4: Comparison on Office-Home. Our variational invariant learning achieves the best perfor-mance on the “Art” and “Clipart” domains, while being competitive on the “Product” and “Real”domains. Again we report the best overall mean accuracy.
Table 5: Comparison on Rotated MNIST and Fashion-MNIST. In-distribution performance is eval-Uated on the test sets ofMNIST and Fashion-MNIST with rotation angles of 15。，30。，45。，60。and75°, while the out-of-distribution performance is evaluated on test sets with angles of 0。and 90。.
Table 6: More detailed ablation study on PACS. Compared to Table 1 we add three more settingswith IDs (i), (j) and (k). All the individual components of our variational invariant learning benefitdomain generalization performance.
