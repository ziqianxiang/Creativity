Table 1: For a coloured MNIST dataset with every digit correlated with a colour 80% of the time,we see poor performance at systematically varying tasks. Performance improves if the minoritygroup combines colours from other biased digits - this provides corrective gradients that promoteinvariance to colour. Non-systematic shifts are when unseen colours are used, and anomaly detectionis measured by decreased predictive confidence for an unseen digit (see Section 2 for more details).
Table 2: Generalisation results on Coloured MNIST.
Table 3: Generalisation performance on COCO-on-Colours.
Table 4: Generalisation performance on COCO-on-Places.
Table 5: Hyper-parameters with different validation sets for Coloured MNISTValidation	In-distribution	Non-systematic shift	Systematic shift	Anomaly detectionNS+S (PGI)	99.05 ± 0.08	98.58 ± 0.06	98.48 ± 0.05	89.42 ± 1.95NS (PGI)	99.31 ± 0.05	98.21 ± 0.26	97.54 ± 0.41	76.00 ± 4.06NS+ID (PGI)	99.30 ± 0.07	98.31 ± 0.27	97.48 ± 0.45	76.07 ± 5.67ID only (PGI)	99.69 ± 0.03	63.62 ± 2.05	58.18 ± 2.05	11.81 ± 1.89Base (ERM)	99.60 ± 0.02	53.26 ± 1.89	38.72 ± 2.27	7.70 ± 0.23NS: Hyper-parameters are picked using only the validation set for non-systematic distributional shift(which consists of backgrounds that are different from those in the training set and test sets). Thismodels the situation where we have access to some data that is different from our training data, and isalso considered somewhat representative of any shifts we might encounter.
Table 6: Hyper-parameters with different validation sets for COCO-on-ColoursValidation	In-distribution	Non-systematic shift	Systematic shift	Anomaly detectionNS+S (PGI)	78.23 ± 2.01	55.57 ± 4.60	51.62 ± 3.09	18.84 ± 2.11NS (PGI)	85.78 ± 1.45	51.02 ± 2.32	38.85 ± 2.29	15.71 ± 3.25NS+ID (PGI)	85.78 ± 1.45	51.02 ± 2.32	38.85 ± 2.29	15.71 ± 3.25ID only (cMMD)	92.51 ± 0.41	44.59 ± 3.28	10.48 ± 0.98	6.05 ± 0.23Base (ERM)	90.57 ± 1.28	26.81 ± 4.93	1.10 ± 0.36	5.47 ± 0.088Published as a conference paper at ICLR 2021Table 7: Hyper-parameters with different validation sets for COCO-on-PlacesValidation	In-distribution	Non-systematic shift	Systematic shift	Anomaly detectionNS+S (cMMD)	79.64 ± 0.73	49.44 ± 0.99	35.86 ± 0.66	9.80 ± 0.45NS (cMMD)	79.64 ± 0.73	49.44 ± 0.99	35.86 ± 0.66	9.80 ± 0.45NS+ID (cMMD)	79.64 ± 0.73	49.44 ± 0.99	35.86 ± 0.66	9.80 ± 0.45ID only (PGI)	80.99 ± 0.52	47.63 ± 0.90	31.91 ± 0.89	9.59 ± 0.89Base (ERM)	81.06 ± 1.01	45.25 ± 0.96	29.18 ± 1.24	9.21 ± 0.216	ConclusionOur experiments investigate the potential usefulness of invariance penalties and methods at improvingperformance under distributional shift, such as systematic generalisation and semantic anomalydetection.
Table 7: Hyper-parameters with different validation sets for COCO-on-PlacesValidation	In-distribution	Non-systematic shift	Systematic shift	Anomaly detectionNS+S (cMMD)	79.64 ± 0.73	49.44 ± 0.99	35.86 ± 0.66	9.80 ± 0.45NS (cMMD)	79.64 ± 0.73	49.44 ± 0.99	35.86 ± 0.66	9.80 ± 0.45NS+ID (cMMD)	79.64 ± 0.73	49.44 ± 0.99	35.86 ± 0.66	9.80 ± 0.45ID only (PGI)	80.99 ± 0.52	47.63 ± 0.90	31.91 ± 0.89	9.59 ± 0.89Base (ERM)	81.06 ± 1.01	45.25 ± 0.96	29.18 ± 1.24	9.21 ± 0.216	ConclusionOur experiments investigate the potential usefulness of invariance penalties and methods at improvingperformance under distributional shift, such as systematic generalisation and semantic anomalydetection.
Table 8: RGB codes used to bias the digits in the majority group.
Table 9: Background scenes for the in-distribution majority group, minority group, and the non-systematically shifted validation and test sets. (The mapping to categories only applies to the majoritygroup in the training set.)Training is conducted for 30 epochs, with SGD + Momentum (0.9), using batch sizes of 512. Thelearning rate is cut by 10 from its initial value of 0.1 at epochs 9, 18, and 24.
Table 10: Picking hyper-parameters only using a validation set of non-systematic shifts forColoured MNIST.
Table 11: Picking hyper-parameters using both a validation set of non-systematic shifts and thein-distribution set for Coloured MNIST.
Table 12: Picking hyper-parameters using only the in-distribution set for Coloured MNIST.
Table 13: Picking hyper-parameters only using a validation set of non-systematic shifts for COCO-on-Colours.
Table 14: Picking hyper-parameters using both a validation set of non-systematic shifts and thein-distribution set for COCO-on-Colours.
Table 15: Picking hyper-parameters using only the in-distribution set for COCO-on-Colours.
Table 16: Picking hyper-parameters only using a validation set of non-systematic shifts for COCO-on-Places.
Table 17: Picking hyper-parameters using both a validation set of non-systematic shifts and thein-distribution set for COCO-on-Places.
Table 18: Picking hyper-parameters using only the in-distribution set for COCO-on-Places.
