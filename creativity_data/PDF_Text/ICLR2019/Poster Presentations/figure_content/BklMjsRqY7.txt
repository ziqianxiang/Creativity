Figure 1: The importance of accumulation precision: (a) convergence curves of an ImageNet ResNet 18 exper-iment using reduced precision accumulation. The current practice is to keep the accumulation in full precisionto avoid such divergence. (b) estimated area benefits when reducing the precision of a floating-point unit (FPU).
Figure 2: The three GEMM calls, and hence accumulations, in one iteration of the back-propagation algo-rithm: (a) the forward propagation (FWD), (b) the backward propagation (BWD), and (c) gradient computation(GRAD). The accumulation of these three GEMMs is across multiple dimensions (mini-batch size, featuremaps, output channels etc.) and their lengths are usually very long.
Figure 3: Snapshot of measured weight gradient vari-ance as a function of layer index for our ResNet 18experiment. An abnormal variance is observed for thereduced precision accumulation.
Figure 4: Illustration of the difference between fullswamping and partial swamping when macc = 6 andmp = 4. The bit-shift ofpi due to exponent differencemay cause partial (e.g., stage 1-4) or full truncation ofpi’s bits, called swamping.
Figure 5: Normalized variance lost as a function of accumulation length for different values of macc for (a)a normal accumulation (no chunking) and (b) a chunk-based accumulation (chunk size of 64). The ”knees” ineach plot correspond to the maximum accumulation length for a given precision which indicates how the VRRis to be used to select a suitable precision. (c) VRR as a function of chunk-size for several accumulation setups.
Figure 6: Convergence curves for (a) CIFAR-10 ResNet 32, (b) ImageNet ResNet 18, and (c) ImageNetAlexNet, and (d) final accuracy degradation with respect to the baseline as a function of precision perturbation(PP). The solid and dashed lines correspond to the no chunking and chunking case, respectively. Using ourpredicted precision assignment, the converged test error is close to the baseline (no more than 0.5% degradation)but increases significantly when the precision is further reduced.
