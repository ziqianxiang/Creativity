Table 1: Test accuracy (%) on four representative tasks for OOD Robustness. According to OOD-Bench (Ye et al., 2021), two are dominated by correlation shift, CMNIST and NICO, and two aredominated by diversity shift, PACS and TerraInc. We highlight the top two results on each task.
Table 3: Test accuracy of '∞-norm boundedDAT on the NICO dataset.
Table 4: Hyperparameter Search Space for DAT on Typical OOD Datasets.
Table 5: Hyperparameter Search Space for (sample-wise) AT on Typical OOD Datasets.
Table 6: Hyperparameter Search Space for UAT on Typical OOD Datasets.
Table 7: Test accuracy of ERM, UAT, and DAT on CMNIST.
Table 8: Test accuracy of ERM, UAT, and DAT on PACS.
Table 9: Test accuracy of ERM, UAT, and DAT on TerraInc.
Table 10: Hyperparameter searching space for DAT on typical OOD datasets (single-source domaingeneralization)Dataset	Radius ε	Step Size αCMNIST	[10-1,102]	[10-2, 101]NICO	[10-2, 10-1]	[10-4, 10-3]PACS	[10-2, 10-1]	[10-3, 10-2]TerraInc	[10-0.5, 100.7]	[10-2, 10-1]We list the domain-average results in Table 11.
Table 11: Average test accuracy of ERM, DAT on four representative tasks (single-source domaingeneralization)Algorithm	CMNIST	NICO	PACS	TerraInc	AvgERM	45.8	63.2	59.8	27.3	49.0DAT	46.0	64.4	59.9	28.1	49.6We can see that our DAT enjoys superior performance on all four datasets compared to ERM, eitherunder correlation shift or diversity shift. Although the difference is not as significant as in themultiple domain setting, it shows that our DAT works for both single-domain and multi-domaingeneralization scenarios. In particular, its advantages are more significant with multiple domains,where the domain-wise perturbation mechanism is more effective.
Table 13: Results of Ensemble UAT and DAT on CMNIST and NICOAlgorithm	CMNIST	NICOEnsemble UAT	58.2 ± 2.3	60.8 ± 0.2DAT	68.4 ± 2.0	72.6 ± 1.7From the results, we can see that invariance learned by DAT indeed performs much better than a triv-ial ensemble of independent UAT models. We believe that training DAT on multiple domains canhelp extract the domain-invariant features through sharing the same model across domains whileremoving domain-varying features with domain-specific perturbations. Spurious background infor-mation from multiple domains can help the classifier to identify the truly domain-invariant features.
Table 12: Test accuracy (single-source domain generalization)(a) ERM on CMNISTTraining Domain	0.1	0.2	0.9	Avg0.1	\	79.8 ± 0.2	21.2 ± 0.2	50.50.2	88.7 ± 0.4	\	35.2 ± 1.3	62.00.9	21.0 ± 0.9	29.1 ± 0.7	\	25.1(b) DAT on CMNIST				Training Domain	0.1	0.2	0.9	Avg0.1	\	80.0 ± 0.1	27.9 ± 4.7	54.00.2	90.0 ± 0.1	\	32.4 ± 1.0	61.20.9	18.3 ± 1.1	27.1 ± 1.1	\	22.7(c) ERM on NICOTraining Domain	Test Accuracy1	56.8 ± 3.52	69.6 ± 2.0Avg	63.2(d) DAT on NICO	Training Domain	Test Accuracy1	61.7 ± 0.92	67.1 ± 0.3
