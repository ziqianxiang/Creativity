Table 1: Joint and interaction measures in n = 3 game theory examplesT	V	Shapley (k=1)	φSI	φGS	φAV	φST (Vm； k)		φJ (Vm； k)							k=2	k=3	k=2	k=3		The majority game: Vm (T ) = 1 when t ≥ 2, and is equal to 0 otherwise							i	0	1/3	1/3	1/3	-1/3	0	0	1/9	2/21i, j	1		0	1/2	1/3	1/3	1	2/9	4/21N	1		-2	1	0		-2		3/21		A linear model with crosses: Vc (T) =			Pi∈T 1	+ c max {0, t - 2} for c ∈ R			i	1	1/3(3+c)	1/3(3+c)	1/3(3+c)	-1/12c	1	1	5/18(2+c)	5/21(2+c)i, j	2		1/3c	1/2 (4 + c)	-1/6c	1/3c	0	1/18(8+c)	1/21(8+c)N	3+c		c	3+c	3/4c		c		3/21(3+c)In the n= 3 majority game, Table 1 shows that, while Shapley-Taylor assigns 0 to singletons, thejoint Shapley value recognises that singletons contribute positively when joining existing coalitions.
Table 2: Uniform random variables; k = 3	x1	x2	x3	x1 , x2	x1 , x3	x2, x3	x1, x2, x3		independent features					f1 (x) = x1	0.122	0	0	0.049	0.049	0	0.037f2 (x) = x1 + x2	0.122	0.114	0	0.061	0.049	0.045	0.046f3 (x) = x1 - x2	0.122	0.114	0	0.062	0.049	0.045	0.047	correlated features:			x2 = 1	- x1		f2 (x)	0.122	0.122	0	0	0.049	0.049	0f3 (x)	0.122	0.122	0	0.098	0.049	0.049	0.073Independent variables As only x1 influences f1 , only coalitions including it receive value; themore diluted its role, the lower the value; x2 and x3 are symmetrically irrelevant. For f2 , x1 andx2 play equal roles, and receive equal values (up to variance due to the sample size). For f2 and f3,{x1, x2} receives similar value, and more than in f1, where only x1 influenced model predictions.
Table 3: Bernoulli(0.5) random variables; k = 3f (x)	x1	x2	x3	x1, x2	x1, x3	x2, x3	x1, x2, x3f1 (x) = x1	5/21	0	0	1/21	1/21	0	1/56f2 (x) = x1 + x2	5/21	5/21	0	2/21	1/21	1/21	1/28f4 (x) = x1x2	5/42	5/42	0	1/14	1/42	1/42	3/112The joint Shapley values containing x1 and x2 are larger for models f2 and f4 than for model f1,a different sort of enhancement effect from that above. However, the joint Shapley value for x1 issmaller in f4 than it is in f1 or f2, again a different type of cancellation effect.
Table 4: Joint Shapley values for the Boston datasetShapley (k=1)	k=2	ΦST (f ； k) k=3	k=2	φJ (f; k) k=3RM: 2.57	RM: 3.12	RM: 3.12	LSTAT: 0.63	LSTAT: 0.42LSTAT: 2.47	LSTAT: 2.04	LSTAT: 2.04	RM: 0.56	RM: 0.34AGE: 0.81	DIS: 1.55	DIS: 1.55	LSTAT, RM: 0.30	AGE: 0.11DIS: 0.63	CRIM: 1.37	CRIM: 1.37	AGE, LSTAT: 0.21	LSTAT, RM: 0.11CRIM: 0.46	B: 1.31	DIS, LSTAT: 1.33	AGE, RM: 0.20	NOX: 0.10NOX: 0.44	NOX: 1.15	B: 1.31	DIS, RM: 0.19	DIS: 0.08PTRATIO: 0.27 B: 0.24	. . . CHAS, RM: 0.15	. . . AGE, CRIM, RM: 0.21	. . . CHAS, TAX: 0.02	. . . RAD, TAX, ZN: 0.00TAX: 0.22	LSTAT, TAX: 0.15	AGE, DIS, PTRATIO: 0.21	RAD, ZN: 0.01	CHAS: 0.00INDUS: 0.19	INDUS, RAD: 0.15	DIS, LSTAT, PTRATIO: 0.21	CHAS, RAD: 0.01	CHAS, RAD, TAX: 0.00RAD: 0.13	NOX, TAX: 0.14	AGE, LSTAT, PTRATIO: 0.20	ZN: 0.01	CHAS, RAD, ZN: 0.00ZN: 0.07	DIS, INDUS: 0.13	AGE, NOX, RM: 0.20	CHAS: 0.01	CHAS, TAX, ZN: 0.00CHAS: 0.07	DIS, PTRATIO: 0.12	B, CRIM, LSTAT: 0.19	CHAS, ZN: 0.01	CHAS, ZN: 0.00For k = 1, the joint Shapley values are the classical Shapley values. The unimportance of CHASseems to reflect its low variance (only 35 of 506 units back onto the Charles).
Table 5: Examples of local joint Shapley values in the Pang & Lee (2005) movie reviewsReview	joint Shapleys1: negation: aficionados of the whodunit won’t be disappointed	{disappointed}: -2 × 10-5 {won’t}: 6 × 10-5 {be, disappointed}: -9 × 10-8 {won’t, disappointed}: 6 × 10-8 {won’t, be, disappointed}: 5 × 10-92: enhancement: both inspiring and pure joy	{both}: 2 × 10-4 {and}: 6 × 10-5 {and, both}: 1 × 10-63: context: you wish Jacquot had left well enough alone	{you, well}: 9 × 10-7 {left, well}: -3 × 10-74: lost potential: fascinating little thriller that would have been perfect	{would}: -1 × 10-4 {fascinating}: 2 × 10-4 {would, fascinating}: 3 × 10-7 {would, been, fascinating}: -1 × 10-85: adjectival: director . . . award-winning . . . make a terrific effort	{effort}: -1 × 10-5 {director}: -9 × 10-6 {terrific, effort}: 8 × 10-7 {winning, director}: 5 × 10-7For global values, as the features are binary, we compute the presence-adjusted global joint Shapleys,φJ. Comparing the DSA features' global φJ across the test reviews for k = 1 and k = 2 shows{terrific} to be the largest, followed by {both} then {excellent}. This reflects prevalence in the trainingset, where {terrific} appears four times as often in positive reviews. Similarly, on the negative φJside, {John} is followed by {disappointed}: {John} appears thrice as often in negative reviews.
Table 6: Largest presence-adjusted global joint Shapley values on DSA featuresk = 1	terrific	both	excellent	won’t	crisp	youthful	a	inspiring	disappointed	Johnk = 2	terrific	both	excellent	won’t	a	youthful	inspiring	crisp	disappointed	John5	ConclusionsThe joint Shapley value directly extends Shapley’s value to measure the effect of a set of features on amodel’s predictions. Further work is needed to maintain properties like global efficiency (Covert et al.,2020) and to make sampling more efficient (Williamson & Feng, 2020; Mitchell et al., 2021). Webelieve that understanding complex models is labor intensive. Nevertheless, we envisage a commonworkflow that computes k = 1 Shapley values, followed by k = 2 to identify strong pairwise effects;analyses for k ≥ 3 then respond to the analyst’s evolving questions about the model’s functioning.
