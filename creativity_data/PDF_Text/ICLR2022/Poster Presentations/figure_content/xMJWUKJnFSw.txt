Figure 1: NodePiece tokenization strategy. Given three anchors a1, a2, a3, a target node can betokenized into a hash of top-k closest anchors, their distances to the target node, and the relationalcontext of outgoing relations from the target node. This hash sequence is passed through an injectiveencoder to obtain a unique embedding. Inverse relations are added to ensure connectivity.
Figure 2: Combinations of total anchors A and anchors per node. Denser FB15k-237 saturates fasteron smaller A while sparse WN18RR saturates at around 500 anchors.
Figure 3: Distribution of anchor distances under various anchor selection strategies. Top-bottom:mixed, degree-based, PPR-based, random. For each dataset, left: selecting k nearest anchors,right: k random anchors. (a) Selecting a fixed 500/50 configuration on WN18RR; (b) Selecting afixed 1000/20 configuration on FB15k237. Generally, all strategies except random ones skew thedistributions towards nearest anchors.
Figure 4: Distribution of anchor distances under the fixed mix anchor selection strategy when varyingthe total number of anchors A (50-1000 for WN18RR, 20-1000 for Fb15k-237). For each dataset,left column - k nearest anchors, right - k random anchors. On both graphs, increase in A with thenearest anchors always leads to shorter anchor distances.
Figure 5: Average node-anchor distances when varying the total number of anchors A from 25 to1000 and k nearest anchors per node from 5 to 50. Note that on a sparser WN18RR the gap betweenmin and max values is much wider than of denser FB15k-237. Signs of saturation suggest that furtherincreasing A is not beneficial.
Figure 6: tSNE (left) and UMAP (right) projections of 1000 encoded entities sampled randomly fromFB15k-237 and their top 100 most common anchors.
Figure 7: tSNE (left) and UMAP (right) projections of 4000 encoded entities sampled randomly fromWN18RR and their top 100 most common anchors.
Figure 8: Combinations of total anchors A and anchors per node. Denser FB15k-237 saturates fasteron smaller A while sparse WN18RR saturates at around 500 anchors. MRR metric captures all ranks.
