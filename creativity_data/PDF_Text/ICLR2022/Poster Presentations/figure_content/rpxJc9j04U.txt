Figure 1: Auto-regressive objectives used for each task described in Section 3. Placeholders repre-sented with brackets (such as <TacticState>) are substituted by the context-completion pairsfrom each datasets in the prompts above. Each task is presented to the model with its respective key-word (PROOFSTEP, NEXTLEMMA,...). We wrap the completions of mix1 tasks (with apply(...)and exact(...) respectively) as a hint that they are related to the respective Lean tactics; this isnot directly possible for the other tasks.
Figure 2: Comparison of pre-training and co-training on mix-1 and mix-2. > denotes a pre-trainingstep and + denotes a co-training. As an example, WebMath > mix2 > mix1 + tacticsignifies a model successively pre-trained on WebMath then mix2 and finally co-trained as a fine-tuning step on mix1 and tactic. Columns mix1, mix2, tactic report the optimal validationloss achieved on these respective datasets. We provide a detailed description of experiment runtimeand computing infrastructure in Appendix B.
Figure 3:	Validation losses achieved in the pre-training and co-training setups without WebMathpre-training. See Figure 2 for a description of the columns and the models nomenclature used. *Dueto technical constraints, we are unable to provide pass-rates for some of the models.
Figure 4:	Validation losses and pass-rates achieved for various model sizes using PACT. See Figure 2for a description of the columns. The setup used is WebMath > mix1 + mix2 + tactic.
Figure 5: A sample of correct top-1 guesses by our best model wm-to-tt-m1-m2 on the theoremnaming task. We performed this experiment on the future-mathlib evaluation set, whichcomprises entirely unseen theorems added to mathlib only after we last extracted training data.
Figure 6: A sample of incorrect guesses by our best model wm-to-tt-m1-m2 on the theoremnaming task. We performed this experiment on the future-mathlib evaluation set, whichcomprises entirely unseen theorems added to mathlib only after we last extracted training data.
Figure 7: A breakdown of theorem proving success rate on the test set for wm-to-tt-m1-m2,wm-to-tt-m1, wm-to-tt, and the tidy baseline across top-level modules in Leanâ€™s mathlib.
