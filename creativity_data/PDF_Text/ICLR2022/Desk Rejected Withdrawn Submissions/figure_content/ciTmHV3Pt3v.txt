Figure 1: A demonstration of vicinal groups in ripple attention on a 9 Ã— 9 image I . Each squaredenotes a token, the circle denotes the query position and we use deeper color to indicate a largerspatial weight. Left (a): an example of vicinal group partitioning in the case where the query liesin the center of an image, resulting in a symmetric rippling effect over the 2D space; Middle (b):another example of a group partitioning on the same image but the query token is not centered. Inthis case, distal vicinal groups (the top-left corner) receives almost no spatial weights. Right (c): thesame case as in (b) with the threshold T set SUCh that r = 4. Groups beyond r - 1 (indicated by thedashed line) contribute according to an equal spatial weight.
Figure 2: Empirical running time (left) and memory consumption (right) under different numbersof tokens. All models are tested with a batch size of 4 on a single NVIDIA V100 GPU machine,averaged by 10 runs.
Figure 3: Empirical running time (left) and memory consumption (right) under different numbers oftokens, averaged by 5 runs.
Figure 4: Training dynamic of average JSD betweeninduced distributions of the proposed stick-breakingtransform and fixed exponentially decayed weights. Thesolid line denotes the training dynamic of JSD betweenSBT and fixed-ripple, while the dashed line denotesthe JSD between the uniform distribution (as in vanillalinearized attention) and fixed-ripple.
